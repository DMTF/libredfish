<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libredfish: _queue Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libredfish
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="struct__queue-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">_queue Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A mostly lock free queue.  
 <a href="struct__queue.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="queue_8h_source.html">queue.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a3720f64e698aa40d96ee20e8751c41fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="queue_8h.html#ae1857eedcea35e26ec2c78b7b122b095">queueNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__queue.html#a3720f64e698aa40d96ee20e8751c41fb">first</a></td></tr>
<tr class="memdesc:a3720f64e698aa40d96ee20e8751c41fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The first element in the queue.  <a href="#a3720f64e698aa40d96ee20e8751c41fb">More...</a><br /></td></tr>
<tr class="separator:a3720f64e698aa40d96ee20e8751c41fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4def97dd0c360cb833228b57dada20dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="queue_8h.html#ae1857eedcea35e26ec2c78b7b122b095">queueNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__queue.html#a4def97dd0c360cb833228b57dada20dc">divider</a></td></tr>
<tr class="memdesc:a4def97dd0c360cb833228b57dada20dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The division between the producer and consumer side of the queue.  <a href="#a4def97dd0c360cb833228b57dada20dc">More...</a><br /></td></tr>
<tr class="separator:a4def97dd0c360cb833228b57dada20dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b95a909fa3663c0ac1d3d5d60f46cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="queue_8h.html#ae1857eedcea35e26ec2c78b7b122b095">queueNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__queue.html#a29b95a909fa3663c0ac1d3d5d60f46cc">last</a></td></tr>
<tr class="memdesc:a29b95a909fa3663c0ac1d3d5d60f46cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The last element in the queue.  <a href="#a29b95a909fa3663c0ac1d3d5d60f46cc">More...</a><br /></td></tr>
<tr class="separator:a29b95a909fa3663c0ac1d3d5d60f46cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3358baa9df4a511359bbd0c318177e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="queue_8h.html#a8c80af1d72030a9dc70c3a2c3e46ae9a">mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__queue.html#ae3358baa9df4a511359bbd0c318177e0">pushLock</a></td></tr>
<tr class="memdesc:ae3358baa9df4a511359bbd0c318177e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The producer lock.  <a href="#ae3358baa9df4a511359bbd0c318177e0">More...</a><br /></td></tr>
<tr class="separator:ae3358baa9df4a511359bbd0c318177e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad365cfb038935edc4496f6e5df7f8ee8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="queue_8h.html#a8c80af1d72030a9dc70c3a2c3e46ae9a">mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__queue.html#ad365cfb038935edc4496f6e5df7f8ee8">popLock</a></td></tr>
<tr class="memdesc:ad365cfb038935edc4496f6e5df7f8ee8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The consumer lock.  <a href="#ad365cfb038935edc4496f6e5df7f8ee8">More...</a><br /></td></tr>
<tr class="separator:ad365cfb038935edc4496f6e5df7f8ee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b938cb0b6d5e37e6b8e3715d5bd5c4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="queue_8h.html#a18a0de1af5a8524b75bf94d6b14701b4">condition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__queue.html#a1b938cb0b6d5e37e6b8e3715d5bd5c4a">pushed</a></td></tr>
<tr class="memdesc:a1b938cb0b6d5e37e6b8e3715d5bd5c4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pushed condition variable.  <a href="#a1b938cb0b6d5e37e6b8e3715d5bd5c4a">More...</a><br /></td></tr>
<tr class="separator:a1b938cb0b6d5e37e6b8e3715d5bd5c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A mostly lock free queue. </p>
<p>A queue where the producer side shares a lock and the consumer side shares a lock. This means that as long as you only have one producer or one consumer you should not have any lock contention issues. The locks are also used in order to signal the consumer on new data rather than doing a busy wait.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="struct__queue__node.html" title="A simple linked list node. ">_queue_node</a> </dd></dl>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a4def97dd0c360cb833228b57dada20dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4def97dd0c360cb833228b57dada20dc">&#9670;&nbsp;</a></span>divider</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="queue_8h.html#ae1857eedcea35e26ec2c78b7b122b095">queueNode</a>* _queue::divider</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The division between the producer and consumer side of the queue. </p>
<p>This points to a fake element in the list. Everything on the left side of the element has been read by the consumer and is ready to be freed. Everything on the right side of the queue is ready to be read. Bascially, this element ensures that nothing is being free'd while it's being read and is the "magic" that lets the producer and consumer sides not share a lock. </p>

</div>
</div>
<a id="a3720f64e698aa40d96ee20e8751c41fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3720f64e698aa40d96ee20e8751c41fb">&#9670;&nbsp;</a></span>first</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="queue_8h.html#ae1857eedcea35e26ec2c78b7b122b095">queueNode</a>* _queue::first</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The first element in the queue. </p>
<p>The first element in the queue or the same as divider and last if the queue is empty. </p>

</div>
</div>
<a id="a29b95a909fa3663c0ac1d3d5d60f46cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b95a909fa3663c0ac1d3d5d60f46cc">&#9670;&nbsp;</a></span>last</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="queue_8h.html#ae1857eedcea35e26ec2c78b7b122b095">queueNode</a>* _queue::last</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The last element in the queue. </p>
<p>The last element in the queue or the same as divider and first if the queue is empty. </p>

</div>
</div>
<a id="ad365cfb038935edc4496f6e5df7f8ee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad365cfb038935edc4496f6e5df7f8ee8">&#9670;&nbsp;</a></span>popLock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="queue_8h.html#a8c80af1d72030a9dc70c3a2c3e46ae9a">mutex</a> _queue::popLock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The consumer lock. </p>
<p>The lock aquired whenever an element is popped off the queue. This is normally only obtained by the consumer except both this lock and pushLock are obtained by any call to <a class="el" href="queue_8h.html#aa4727b72ed89cd406d2809482181b959" title="Free the queue and any remaining elements. ">freeQueue()</a>. </p>

</div>
</div>
<a id="a1b938cb0b6d5e37e6b8e3715d5bd5c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b938cb0b6d5e37e6b8e3715d5bd5c4a">&#9670;&nbsp;</a></span>pushed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="queue_8h.html#a18a0de1af5a8524b75bf94d6b14701b4">condition</a> _queue::pushed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The pushed condition variable. </p>
<p>The condition that is signalled anytime anything is pushed onto the queue. </p>

</div>
</div>
<a id="ae3358baa9df4a511359bbd0c318177e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3358baa9df4a511359bbd0c318177e0">&#9670;&nbsp;</a></span>pushLock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="queue_8h.html#a8c80af1d72030a9dc70c3a2c3e46ae9a">mutex</a> _queue::pushLock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The producer lock. </p>
<p>The lock aquired whenever an element is pushed onto the queue. This is normally only obtained by the producer except both this lock and popLock are obtained by any call to <a class="el" href="queue_8h.html#aa4727b72ed89cd406d2809482181b959" title="Free the queue and any remaining elements. ">freeQueue()</a>. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/<a class="el" href="queue_8h_source.html">queue.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 1 2019 09:40:51 for libredfish by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
